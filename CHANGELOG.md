# Changelog

- All notable changes to this project will be documented in this file.
  - The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
  - and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

In addition to original Keep-a-Changelog, we use following rules:

- Use [GitHub Flavored Markdown](https://github.github.com/gfm/)
- Each line in changes SHOULD include a link to Pull Request in GitHub
- Each Pull Request MUST add a line in this file
  - This will be checked by GitHub Actions
- Each Pull Request MAY correspond to one or more lines in this file

## Unreleased

### Added
- Deserialize `LOGICAL` and `BOOLEAN` by `.T.`, `.F.`, and `.U.` notations. https://github.com/ricosjp/ruststep/pull/231

### Changed
- Remove `field` attr from enumerations. https://github.com/ricosjp/ruststep/pull/233
- Recursive `get_owned` for select type without boxed variant. https://github.com/ricosjp/ruststep/pull/234

### Fixed
- Deseialize `Option::Some`. https://github.com/ricosjp/ruststep/pull/232
- Recursive implementation of `ruststep::tables::EntityTable::{get_owned, owned_iter}` for select types. https://github.com/ricosjp/ruststep/pull/230

### Internal
- `cargo upgrade --workspace` https://github.com/ricosjp/ruststep/pull/240

## 0.3.0 - 2022-06-14

### Added
- Deserialize Record as a struct https://github.com/ricosjp/ruststep/pull/228
- Add `ruststep::ast::SubSuperRecord` https://github.com/ricosjp/ruststep/pull/225
- Document and tests for serde mapping in ruststep::ast::de https://github.com/ricosjp/ruststep/pull/220
- Document for ruststep::header https://github.com/ricosjp/ruststep/pull/218
- Design document of ruststep crate https://github.com/ricosjp/ruststep/pull/214
- Term and definitions https://github.com/ricosjp/ruststep/pull/210
- Introduction to STEP, espr design document https://github.com/ricosjp/ruststep/pull/208
- Formal approach for instantiable complex entity https://github.com/ricosjp/ruststep/pull/203
- Partial complex entities described in ISO-10303-11 Annex B https://github.com/ricosjp/ruststep/pull/200

### Changed
- `ruststep::ast::RValue` is renamed to `Name` https://github.com/ricosjp/ruststep/pull/219
- `ruststep::place_holder` is integrated into `ruststep::tables` https://github.com/ricosjp/ruststep/pull/216

### Fixed
- `SUBTYPE_CONSTRAINT` cannot parse supertype-constraint like `ONEOF` https://github.com/ricosjp/ruststep/pull/205

### Internal
- Document for internal mapping https://github.com/ricosjp/ruststep/pull/226
- Reconstruct documents of ast::de https://github.com/ricosjp/ruststep/pull/229
- Do not use RecordDeserializer for Name https://github.com/ricosjp/ruststep/pull/224
- Use Instantiables instead of Constraint https://github.com/ricosjp/ruststep/pull/206
- Return index from ir::Namespace::resolve https://github.com/ricosjp/ruststep/pull/204
- cargo clippy --fix https://github.com/ricosjp/ruststep/pull/202
- Index named AST https://github.com/ricosjp/ruststep/pull/201

## 0.2.0 - 2022-02-17

### Added
- Re-expose serde and itertools from ruststep https://github.com/ricosjp/ruststep/pull/199
- Add the module created from AP203. https://github.com/ricosjp/ruststep/pull/185
- Implement `AsRef` and `AsMut` for `XXAny`. https://github.com/ricosjp/ruststep/pull/180
- Implement `AsRef` and `AsMut` in the case of multiple inheritance. https://github.com/ricosjp/ruststep/pull/179
- Implements `AsRef`, `AsMut`, `Deref`, `DerefMut` for subtypes. https://github.com/ricosjp/ruststep/pull/174
- Implements `Serialize` to `ruststep::primitive::Logical`. https://github.com/ricosjp/ruststep/pull/170
- Add derive trait `From` and `Into` to the tuple struct generated by simple type declare. https://github.com/ricosjp/ruststep/pull/169
- `ast::Component` trait for converting from String to AST https://github.com/ricosjp/ruststep/pull/168
- Add fields for tuple structs to `Table`. https://github.com/ricosjp/ruststep/pull/151
- Expose the module `derive_more` in `ruststep`. https://github.com/ricosjp/ruststep/pull/144
- espr_derive crate, `espr_derive::inline_express!` macro https://github.com/ricosjp/ruststep/pull/158
- Expose `ruststep_derive::*` macros in `ruststep::` namespace https://github.com/ricosjp/ruststep/pull/159
- `#[derive(Holder)]` for tuple struct https://github.com/ricosjp/ruststep/pull/146
- Overview diagram written in asciiflow https://github.com/ricosjp/ruststep/pull/137
- `Tables` from `DataSection` https://github.com/ricosjp/ruststep/pull/139
- impl `FromStr` for `Record` and `DataSection` https://github.com/ricosjp/ruststep/pull/140

### Changed
- Generate Holder struct for TYPE declaration with simple type. https://github.com/ricosjp/ruststep/pull/186
- Replace the methods `xxx_iter` of `Tables` with `xxx_holder`.  https://github.com/ricosjp/ruststep/pull/187
- Cut out `IntoOwned` trait from `Holder`. https://github.com/ricosjp/ruststep/pull/183
- Translates `TYPE` declarations in EXPRESS to Rust tuple struct https://github.com/ricosjp/ruststep/pull/144
- Visitor struct and all fields in Holder struct become public https://github.com/ricosjp/ruststep/pull/160
- Drop unused derive_more, and dyn-clone crate dependencies https://github.com/ricosjp/ruststep/pull/159
- Remove `ruststep_derive::as_holder_visitor!` https://github.com/ricosjp/ruststep/pull/147
- Use Rust 2021 edition https://github.com/ricosjp/ruststep/pull/128

### Fixed
- Incorrect `GENERIC` type handling https://github.com/ricosjp/ruststep/pull/198
- Subtype-Supertype dependency graph generation fixed https://github.com/ricosjp/ruststep/pull/161
- Supertype field is not included in subtypes type https://github.com/ricosjp/ruststep/pull/166
- Generate `Into<XxxAny>` correctly https://github.com/ricosjp/ruststep/pull/176
- Use raw identifier `r#` for reserved words. https://github.com/ricosjp/ruststep/pull/172

### Internal
- impl `SeqDeserializer::size_hint` https://github.com/ricosjp/ruststep/pull/197
- Replace `SeqDeserializer` https://github.com/ricosjp/ruststep/pull/194
- Use `Record` struct in `Parameter::Typed` https://github.com/ricosjp/ruststep/pull/192
- Drop type parameter `T` in `SingleMapDeserializer` https://github.com/ricosjp/ruststep/pull/191
- Use `syn::Type` and other explicit types instead of `proc_macro2::TokenStream` in espr/codegen https://github.com/ricosjp/ruststep/pull/184
- Legalize the type declare of `SET` and `LIST`. https://github.com/ricosjp/ruststep/pull/171
- Snapshot testing for ruststep-derive https://github.com/ricosjp/ruststep/pull/175
- Refactoring `espr::codegen` https://github.com/ricosjp/ruststep/pull/165
- ignore pending snapshot https://github.com/ricosjp/ruststep/pull/164
- Snapshot testing for espr https://github.com/ricosjp/ruststep/pull/163
- ruststep/tests uses `inline_express!` macro https://github.com/ricosjp/ruststep/pull/160
- Add flag to switch ruststep internal/external codegen in IR::to_token_stream https://github.com/ricosjp/ruststep/pull/158
- Use rust-cache for faster CI https://github.com/ricosjp/ruststep/pull/156
- Comprehensive tests for ruststep_derive https://github.com/ricosjp/ruststep/pull/147
- Check CHANGELOG is updated in each pull request https://github.com/ricosjp/ruststep/pull/155
- Test for `EntityTables` https://github.com/ricosjp/ruststep/pull/136

## 0.1.0 - 2021-09-28

See https://github.com/ricosjp/ruststep/releases/tag/ruststep-0.1.0
